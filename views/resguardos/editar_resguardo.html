$def with (r, departamento, puesto, tipo, estatus_resguardo)

<div class="container mt-4 mb-5">
    <div class="row">
        <div class="col-md-12">
            <h2 class="text-center">Editar Resguardo #${r['id_resguardo']}</h2>


            <form method="post" action="/editar_resguardo/${r['id_resguardo']}"
                class="d-flex flex-column align-items-center justify-content-center mt-4">

                <div class="pb-5 ps-5 pe-5 pt-4 rounded-3 shadow col-6">
                    <a href="/listar_resguardos">
                        <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor"
                            class="mb-4 bi-arrow-left " viewBox="0 0 16 16">
                            <path fill-rule="evenodd"
                                d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8" />
                        </svg>
                    </a>

                    <div class="mb-3">
                        <label class="form-label">Nombre(s):</label>
                        <input type="text" class="form-control border border-primary-subtle" value="${r['nombres']}"
                            name="nombres" minlength="2" maxlength="30" required pattern="[A-Za-z\s]{2,30}" title="Solo letras. Tamaño: 2-30">
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Primer Apellido:</label>
                        <input type="text" class="form-control border border-primary-subtle"
                            value="${r['primer_apellido']}" name="primer_apellido" minlength="2" maxlength="15" required pattern="[A-Za-z]{2,15}" title="Solo letras. Tamaño: 2-15">
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Segundo Apellido:</label>
                        <input type="text" class="form-control border border-primary-subtle"
                            value="${r['segundo_apellido']}" name="segundo_apellido" minlength="2" maxlength="15" required pattern="[A-Za-z]{2,15}" title="Solo letras. Tamaño: 2-15">
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Número de Colaborador:</label>
                        <input type="text" class="form-control border border-primary-subtle"
                            value="${r['numero_colaborador']}" name="numero_colaborador" minlength="2" maxlength="40" required pattern="[0-9]{2,40}" title="Solo números. Tamaño: 2-40">
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Departamento:</label>
                        <select type="text" class="form-select border border-primary-subtle" name="id_departamento"
                            minlength="4" maxlength="25" required>
                            $for d in departamento:
                                $if d['id_departamento'] == r['id_departamento']:
                                    <option value="$d['id_departamento']" selected>$d['nombre_departamento']</option>
                            $else:
                            <option value="$d['id_departamento']">$d['nombre_departamento']</option>
                        </select>
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Puesto:</label>
                        <select type="text" class="form-select border border-primary-subtle" name="id_puesto"
                            minlength="4" maxlength="15" required>
                            $for p in puesto:
                                $if p['id_puesto'] == r['id_puesto']:
                                    <option value="$p['id_puesto']" selected>$p['nombre_puesto']</option>
                            $else:
                            <option value="$p['id_puesto']">$p['nombre_puesto']</option>
                        </select>
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Tipo:</label>
                        <select type="text" class="form-select border border-primary-subtle" name="id_tipo"
                            minlength="4" maxlength="15" required>
                            $for t in tipo:
                                $if t['id_tipo'] == r['id_tipo']:
                                    <option value="$t['id_tipo']" selected>$t['nombre_tipo']</option>
                            $else:
                            <option value="$t['id_tipo']">$t['nombre_tipo']</option>
                        </select>
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Marca:</label>
                        <input type="text" class="form-control border border-primary-subtle" value="${r['marca']}" name="marca"  minlength="2" maxlength="15" required pattern="[A-Za-z\s]{2,15}" title="Solo letras. Tamaño: 2-15">
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Modelo:</label>
                        <input type="text" class="form-control border border-primary-subtle" value="${r['modelo']}"
                            name="modelo" minlength="2" maxlength="20" required pattern="[A-Za-z0-9\s+]{2,20}" title="Solo letras y números. Tamaño: 2-20">
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Número de Serie:</label>
                        <input type="text" class="form-control border border-primary-subtle"
                            value="${r['numero_serie']}" name="numero_serie" minlength="10" maxlength="100" required>
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Precio:</label>
                        <input type="number" class="form-control border border-primary-subtle" value="${r['precio']}"
                            name="precio" step="0.01" min="0" minlength="2" maxlength="15" required pattern="[0-9]{2,15}" title="Solo números. Tamaño: 2-15">
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Entrega:</label>
                        <input type="text" class="form-control border border-primary-subtle"
                            value="${r['nombre_entrega']}" name="nombre_entrega" minlength="4" maxlength="30" required pattern="[A-Za-z\s]{4,30}" title="Solo letras. Tamaño: 4-30">
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Estatus:</label>
                        <select type="text" class="form-select border border-primary-subtle" name="id_estatus_resguardo"
                            minlength="1" maxlength="2" required>
                            $for e in estatus_resguardo:
                                $if e['id_estatus_resguardo'] == r['id_estatus_resguardo']:
                                    <option value="$e['id_estatus_resguardo']" selected>$e['estatus']</option>
                            $else:
                            <option value="$e['id_estatus_resguardo']">$e['estatus']</option>
                        </select>
                    </div>

                    <div class="d-flex justify-content-between text-center">
                        <a href="/listar_resguardos" class="btn btn-danger d-grid col-4 mx-auto">CANCELAR</a>
                        <button class="btn btn-success d-grid col-4 mx-auto">EDITAR RESGUARDO</button>
                    </div>

                </div>
            </form>
        </div>
    </div>
</div>