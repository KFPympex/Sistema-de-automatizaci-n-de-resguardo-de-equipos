$def with (resguardos, page, total_pages, buscar)
<div class="d-flex container mt-4 justify-content-between">
    <a class="navbar-brand" href="/bienvenida_admin"><svg id="i-arrow-left" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"
            width="32" height="32" fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round"
            stroke-width="2">
            <path d="M10 6 L2 16 10 26 M2 16 L30 16" />
        </svg>
    </a>
    <form class="d-flex col-6" name="formSearch" method="post" action="/buscar_resguardo" role="search">
        <input class="form-control me-2" type="search" name="busqueda" value="$buscar" 
        placeholder="Buscar por nombres, departamento, puesto, tipo, etc." aria-label="Search" />
        <button class="btn btn-outline-success" type="submit">Buscar</button>
        <a href="/listar_resguardos" class="btn btn-outline-secondary text-nowrap ms-2">Mostrar todos</a>
    </form>
    <div class="">
        <a href="/agregar_resguardo" class="btn btn-info active col-12 " role="button" data-bs-toggle="button"
            aria-pressed="true"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                class=" me-2 bi bi-plus-circle-fill" viewBox="0 0 16 16">
                <path
                    d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M8.5 4.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3z" />
            </svg>Agregar</a>
    </div>
</div>

$if not resguardos:
    <div class="alert alert-warning mt-4 text-center" role="alert">
        ⚠️ No se encontraron resguardos.
    </div>

<div class="container mt-4 row col-md-12 table-responsive">

    <table
        class="table table-bordered table-hover border border-primary-subtle border-3 shadow-lg mb-5 bg-body-tertiary rounded">
        <thead class="table-primary text-center align-middle text-nowrap">
            <tr>
                <th>ID</th>
                <th>Fecha de registro</th>
                <th>Nombre(s)</th>
                <th>Primer apellido</th>
                <th>Segundo apellido</th>
                <th>Número de colaborador</th>
                <th>Departamento</th>
                <th>Puesto</th>
                <th>Tipo</th>
                <th>Marca</th>
                <th>Modelo</th>
                <th>S/N</th>
                <th>Precio</th>
                <th>Entrega</th>
                <th>Estatus de resguardo</th>
                <th>Opciones</th>
            </tr>
        </thead>
        <tbody>
        $for r in resguardos:
            <tr class="align-middle text-center text-nowrap">
                <td>$r["id_resguardo"]</td>
                <td>$r["fecha_registro"]</td>
                <td>$r["nombres"]</td>
                <td>$r["primer_apellido"]</td>
                <td>$r["segundo_apellido"]</td>
                <td>$r["numero_colaborador"]</td>
                <td>$r["departamento"]</td>
                <td>$r["puesto"]</td>
                <td>$r["tipo"]</td>
                <td>$r["marca"]</td>
                <td>$r["modelo"]</td>
                <td>$r["numero_serie"]</td>
                <td>$$$r["precio"]</td>
                <td>$r["nombre_entrega"]</td>
                <td>$r["estatus_resguardo"]</td>
                <td class="text-center">

                    <a href="/editar_resguardo/${r['id_resguardo']}" class="btn btn-success btn-sm"><svg
                            xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor"
                            class="bi bi-pencil-fill" viewBox="0 0 16 16">
                            <path
                                d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.5.5 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11z" />
                        </svg></a>

                    <a href="/detalle_pdf_resguardo/${r['id_resguardo']}" class="btn btn-primary btn-sm"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25"
                            fill="currentColor" class="bi bi-filetype-pdf" viewBox="0 0 16 16">
                            <path fill-rule="evenodd"
                                d="M14 4.5V14a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zM1.6 11.85H0v3.999h.791v-1.342h.803q.43 0 .732-.173.305-.175.463-.474a1.4 1.4 0 0 0 .161-.677q0-.375-.158-.677a1.2 1.2 0 0 0-.46-.477q-.3-.18-.732-.179m.545 1.333a.8.8 0 0 1-.085.38.57.57 0 0 1-.238.241.8.8 0 0 1-.375.082H.788V12.48h.66q.327 0 .512.181.185.183.185.522m1.217-1.333v3.999h1.46q.602 0 .998-.237a1.45 1.45 0 0 0 .595-.689q.196-.45.196-1.084 0-.63-.196-1.075a1.43 1.43 0 0 0-.589-.68q-.396-.234-1.005-.234zm.791.645h.563q.371 0 .609.152a.9.9 0 0 1 .354.454q.118.302.118.753a2.3 2.3 0 0 1-.068.592 1.1 1.1 0 0 1-.196.422.8.8 0 0 1-.334.252 1.3 1.3 0 0 1-.483.082h-.563zm3.743 1.763v1.591h-.79V11.85h2.548v.653H7.896v1.117h1.606v.638z" />
                        </svg></a>

                    <form method="post" action="/borrar_resguardo/${r['id_resguardo']}" style="display:inline;">
                        <button type="submit" href="/borrar_resguardo/${r['id_resguardo']}"
                            class="btn btn-danger btn-sm"
                            onclick="return confirm('¿Seguro que deseas borrar el resguardo ${r['id_resguardo']}?')">
                            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor"
                                class="bi bi-trash3-fill" viewBox="0 0 16 16">
                                <path
                                    d="M11 1.5v1h3.5a.5.5 0 0 1 0 1h-.538l-.853 10.66A2 2 0 0 1 11.115 16h-6.23a2 2 0 0 1-1.994-1.84L2.038 3.5H1.5a.5.5 0 0 1 0-1H5v-1A1.5 1.5 0 0 1 6.5 0h3A1.5 1.5 0 0 1 11 1.5m-5 0v1h4v-1a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5M4.5 5.029l.5 8.5a.5.5 0 1 0 .998-.06l-.5-8.5a.5.5 0 1 0-.998.06m6.53-.528a.5.5 0 0 0-.528.47l-.5 8.5a.5.5 0 0 0 .998.058l.5-8.5a.5.5 0 0 0-.47-.528M8 4.5a.5.5 0 0 0-.5.5v8.5a.5.5 0 0 0 1 0V5a.5.5 0 0 0-.5-.5" />
                            </svg></button>
                    </form>
                </td>
            </tr>


        </tbody>
    </table>

    <nav aria-label="Page navigation">
        <ul class="pagination justify-content-center">
            $if page > 1:
                <li class="page-item">
                    <a class="page-link" href="/listar_resguardos?page=${page-1}" aria-label="Anterior">
                        <span aria-hidden="true">&laquo; Anterior</span>
                    </a>
                </li>
            $else:
                <li class="page-item disabled">
                    <span class="page-link">&laquo; Anterior</span>
                </li>

            $for p in range(1, total_pages+1):
                $if p == page:
                    <li class="page-item active" aria-current="page">
                        <span class="page-link">${p}</span>
                    </li>
                $else:
                    <li class="page-item">
                        <a class="page-link" href="/listar_resguardos?page=${p}">${p}</a>
                    </li>
            $if page < total_pages:
                <li class="page-item">
                    <a class="page-link" href="/listar_resguardos?page=${page+1}" aria-label="Siguiente">
                        <span aria-hidden="true">Siguiente &raquo;</span>
                    </a>
                </li>
            $else:
                <li class="page-item disabled">
                    <span class="page-link">Siguiente &raquo;</span>
                </li>
        </ul>
    </nav>

</div>